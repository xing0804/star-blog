# Vite中静态资源的处理

## Vite加载静态资源

> **什么是静态资源?**
>
> 图片?视频?

vite对于静态资源基本上是开箱即用的

### 如何加载静态图片资源

```js
import imgSrc from './img.png' 
console.log( imgSrc ); // 图片的绝对路径
```



### Vite中的JSON

Vite中导入的json文件会直接以对象的形式展现

```json
// index.json
{
    name: 'wyx',
    age: 24
}
```



```js
import jsonFile from './index.json';
console.log(jsonFile); // 如果使用的不是vite, 在其他的一些构建工具里json文件的导入会作为一个JSON字符串形式存在

import { name, age } from './index.json';
console.log(name); // wyx
```

### Vite配置绝对路径别名@

```js
// vite.base.config.js
export default defineConfig({
    resolve: {
        alias: {
            '@': path.resolve(__dirname, './src'),
            '@assets': path.resolve(__dirname, './src/assets')
        }
    }
})
```

### Vite对svg资源的处理

> svg优点
>
> * 放大缩小不失真
> * 尺寸小
>
> 缺点: 没法很好的去表示层次丰富的图片信息

#### 加载svg方式

* 直接使用img标签,import svg后放入src属性里面(不推荐),这样不可以改变svg颜色

```js
import svgIcon from './svgIcon.svg';
<img scr='svgIcon'>
```

* 使用文件后参数读取源字符串内容

```js
import svgIcon from './svgIcon.svg?url';
import svgRaw from './svgIcon.svg?raw';

console.log(svgIcon, svgRaw);

document.body.innerHTML = svgRaw;

// 修改svg颜色
const svgElement = document.getElementsByTagName("svg")[0];

svgElement.onmouseenter = function() { // 鼠标点击事件
    // 不是去改他的background 也不是color
    // 而是fill属性
    this.style.fill = "red";
}
```

## Vite在生产环境对静态资源的配置

当我们将工程进行打包之后,会发现找不到资源位置

vite当中我们只需要做一件事情,重新打开一个窗口根目录是dist目录





# 优化

在企业项目中,如果生产环境非常的臃肿和性能差,可以进行**控制导入**

tree shaking 摇树优化: 打包工具会自动帮你一出道那些你没有用到的变量或者方法